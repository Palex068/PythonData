# 3.1. Строки, кортежи, списки

В первой главе мы познакомились с таким типом данных, как строка (str). Мы умеем складывать строки, умножать их на число и даже сравнивать между собой.

Если рассмотреть строку детальнее, то она состоит из символов, каждый из которых стоит на своём месте. Другими словами, строка — упорядоченная последовательность (коллекция) символов.

Слово «коллекция» в Python применяется не только к строкам. Коллекциями в Python также называют типы данных, в которых можно хранить сразу несколько значений.

В упорядоченных коллекциях, к которым относится строка, каждое значение автоматически имеет свой номер — индекс. Индексация в коллекциях Python начинается со значения 0. При этом пробел, запятая, управляющие символы \n, \t и прочие тоже получают свой индекс в строке. Для доступа к определённому символу строки по индексу нужно указать его в квадратных скобках сразу после имени переменной.

Давайте создадим программу, которая выводит первый символ строки, введённой пользователем:

    text = input()
    print(text[0])

Если пользователь введёт пустую строку, то наша программа выдаст ошибку:

    IndexError: string index out of range

В пустой строке нет символов, и программа вышла за пределы строки. Таким образом, нельзя получить значение по индексу, который за пределами строки. Перед обращением к символу строки по индексу можно проверять, не выходит ли он за пределы строки, используя известную нам функцию len следующим образом:

    text = input("Введите строку: ")
    i = int(input("Введите индекс символа: "))
    if i < len(text):
        print(text[i])
    else:
        print("Индекс выходит за пределы строки")

Давайте подумаем, как можно взять последний символ строки? Для этого нам потребуется воспользоваться функцией len:

    text = input()
    print(text[len(text) - 1])

Однако в Python можно упростить эту запись, убрав из неё функцию len. И тогда в качестве индекса просто будет использоваться отрицательное число:

    text = input()
    print(text[-1])

Таким образом, последний символ имеет индекс -1, предпоследний -2 и т. д.

Так как строка — упорядоченная коллекция, то можно пройти по этой коллекции в цикле, указав в качестве индекса итерируемую переменную цикла. Например, вывести на строке каждый символ введённой пользователем строки:

    text = input()
    for i in range(len(text)):
        print(text[i])

Существует и другой способ пройти по символам строки в цикле. Если не требуется на каждой итерации цикла знать индекс текущего символа, то цикл можно оформить следующим образом:

    text = input()
    for letter in text:
        print(letter)

При такой записи цикла программа проходит не по индексам строки, а непосредственно по её символам. Так, переменная letter на каждой итерации цикла принимает значение очередного символа строки text.

Если требуется совместить проход непосредственно по символам строки с определением индекса итерации, то можно воспользоваться функцией __enumerate__. Она возвращает пары значений — номер элемента коллекции и сам этот элемент. Эта функция удобна, когда нужно пройти именно по элементам коллекции, но при этом ещё и знать индекс каждого элемента.

    text = input()
    for i, letter in enumerate(text):
        print(f"{i}. {letter}")

Для строк в Python существует ещё одна полезная операция — срез (slice).

Срез позволяет взять часть строки, указав начальный и конечный индексы (конечный индекс не включается в диапазон). Также можно указать шаг, с которым срез будет взят (по умолчанию шаг 1). Например, в одной из прошлых глав мы аналогичным образом использовали функцию range.

Кроме того, в срезах можно использовать отрицательную индексацию. А если срез выходит за пределы строки, то программа не упадёт с ошибкой, а просто вернёт существующую часть строки.

Следующий пример показывает возможные варианты использования срезов:

    text = "Привет, мир!"
    print(text[8:11])
    print(text[:6])
    print(text[8:])
    print(text[:])
    print(text[::2])

Вывод:

    мир
    Привет
    мир!
    Привет, мир!
    Пие,мр

Обратите внимание: строка является неизменяемой коллекцией. Это означает, что изменить отдельный символ строки нельзя.

Например, попытаемся в следующей программе изменить значение одного из символов строки:

    word = "мир"
    word[0] = "п"

Программа выдаст ошибку:

    TypeError: 'str' object does not support item assignment

Мы уже знаем, что взаимодействовать с переменными в Python можно с помощью операций и функций. Рассмотрим ещё один способ взаимодействия — методы.

Методы похожи на функции, но вызываются не сами по себе, а для конкретной переменной. Для каждого типа данных есть свой набор методов. Чтобы вызвать метод, его нужно указать через точку после имени переменной. В круглых скобках после имени метода дополнительно можно обозначить аргументы (параметры) вызываемого метода, как это делаем с функциями.

Например, у строк есть метод islower(), который проверяет, что в строке не встречаются большие буквы, и возвращает в таком случае значение True, иначе — False:

    print("а".islower())
    print("A".islower())
##
    True
    False

В следующей таблице перечислены часто используемые методы строк и примеры их работы. 

Важный момент: методы строк не меняют исходную строку, а возвращают новое значение, которое можно сохранить в переменной.

# str.capitalize()

![str.capitalize()](/PythonYandex/.pictures/002.JPG)

# str.count(sub)

![str.count(sub)](/PythonYandex/.pictures/003.JPG)

# str.endswith(suffix)

![str.endswith(suffix)](/PythonYandex/.pictures/004.JPG)

# str.find(sub)
![str.find(sub)](/PythonYandex/.pictures/005.JPG)

# str.index(sub)

![str.index(sub)](/PythonYandex/.pictures/006.JPG)

# str.isalnum()

![str.isalnum()](/PythonYandex/.pictures/007.JPG)

# str.isalpha()

![str.isalpha()](/PythonYandex/.pictures/008.JPG)

# str.isdigit()

![str.isdigit()](/PythonYandex/.pictures/009.JPG)

# str.islower()

![str.islower()](/PythonYandex/.pictures/010.JPG)

# str.isupper()

![str.isupper()](/PythonYandex/.pictures/011.JPG)

# str.join(str_col)

![str.join(str_col)](/PythonYandex/.pictures/012.JPG)

# str.ljust(width, fillchar)

![str.ljust(width, fillchar)](/PythonYandex/.pictures/013.JPG)

# str.rstrip(chars)

![str.rstrip(chars)](/PythonYandex/.pictures/014.JPG)

# str.split(sep)

![str.split(sep)](/PythonYandex/.pictures/015.JPG)

# str.startswith(prefix)

![str.startswith(prefix)](/PythonYandex/.pictures/016.JPG)

# str.strip(chars)

![str.strip(chars)](/PythonYandex/.pictures/017.JPG)

# str.title()

![str.title()](/PythonYandex/.pictures/018.JPG)

# str.upper()

![str.upper()](/PythonYandex/.pictures/019.JPG)

# str.zfill(width)

![str.zfill(width)](/PythonYandex/.pictures/020.JPG)

# Список

Рассмотрим ещё одну коллекцию в Python — список (list). Этот тип данных является упорядоченной коллекцией, которая может в качестве элементов иметь значения любого типа данных.

Один из способов создания списков — перечислить его элементы в квадратных скобках и присвоить это значение переменной, которая и станет в итоге списком в программе:

    numbers = [10, 20, 30]

В примере мы создали список, состоящий из трёх элементов — целых чисел. Список может хранить значения любого типа, поэтому можно создать список со следующими элементами:

    mixed_list = [10, 20.55, "text"]

Индексация в списках работает так же, как и в строках, — начальный индекс 0. Можно использовать отрицательные индексы, а также доступны срезы:

    numbers = [10, 20, 30, 40, 50]
    print(numbers[0])
    print(numbers[-1])
    print(numbers[1:3])
    print(numbers[::-1])

Результат работы программы:

    10
    50
    [20, 30]
    [50, 40, 30, 20, 10]

В отличие от строки, список относится к изменяемой коллекции. У списка можно изменить отдельный элемент, добавить новые или удалить существующие. Для изменения существующего элемента нужно указать его в левой части операции присваивания, а в правой указать новое значение этого элемента:

    numbers = [10, 20, 50]
    numbers[2] = 30
    print(numbers)

Вывод программы:

    [10, 20, 30]

Если требуется добавить элемент в конец списка, то можно использовать метод \_\_append()__.

Например, напишем программу, в которой список последовательно заполняется 10 целочисленными значениями с клавиатуры:
# append()

    numbers = []
    for i in range(10):
        numbers.append(int(input()))
    print(numbers)

Вывод программы:

    [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]

Для удаления элемента из списка применяется операция del. Нужно указать индекс элемента, который требуется удалить:

    numbers = [10, 20, 50]
    del numbers[-1]
    print(numbers)

Вывод программы:

    [10, 20]

С помощью del можно удалить несколько элементов списка. Для этого вместо одного элемента указываем срез:

    numbers = [1, 2, 3, 4, 5]
    del numbers[::2]
    print(numbers)

Вывод программы:

    [2, 4]

Полезные методы и функции списков и примеры их работы приведены в следующей таблице.

![Полезные методы и функции списков часть 1](/PythonYandex/.pictures/021.JPG)

![Полезные методы и функции списков часть 2](/PythonYandex/.pictures/022.JPG)

# Кортеж

Ещё одной коллекцией в Python является кортеж (tuple). Кортеж является неизменяемой упорядоченной коллекцией. В кортеже нельзя заменить значение элемента, добавить или удалить элемент. Простыми словами, кортеж — неизменяемый список. Свойство неизменяемости используется для защиты от случайных или намеренных изменений.

Задать кортеж можно следующим образом:

    numbers = (1, 2, 3, 4, 5)

Если нужно создать кортеж из одного элемента, то запись будет такой:

    one_number = (1, )

Запятая в примере показывает, что в скобках не совершается операция, а идёт перечисление элементов кортежа.

Для кортежей доступны те операции и методы списков, которые не изменяют исходный кортеж.

В качестве примера использования кортежей приведём программу для обмена значений двух переменных:

    a = 1
    b = 2
    (a, b) = (b, a)
    # можно опустить круглые скобки и записать так a, b = b, a
    print(f"a = {a}, b = {b}")

Вывод программы:

    a = 2, b = 1

Между коллекциями можно производить преобразования. Покажем их на примере преобразования строки в список и кортеж (элементы строки, символы становятся элементами списка и кортежа соответственно):

    text = "Привет, мир!"
    list_symbols = list(text)
    tuple_symbols = tuple(text)
    text_from_list = str(list_symbols)
    print(list_symbols)
    print(tuple_symbols)
    print(text_from_list)

Вывод программы:

    ['П', 'р', 'и', 'в', 'е', 'т', ',', ' ', 'м', 'и', 'р', '!']
    ('П', 'р', 'и', 'в', 'е', 'т', ',', ' ', 'м', 'и', 'р', '!')
    ['П', 'р', 'и', 'в', 'е', 'т', ',', ' ', 'м', 'и', 'р', '!']

Обратите внимание: преобразование коллекций к типу данных str не объединяет элементы этой коллекции в одну строку, а возвращает представление коллекции в виде строки.


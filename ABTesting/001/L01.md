# A/B-тестирование
# Формирование гипотез и их скоринг на основе 

## Введение
Всем привет! Добро пожаловать на курс по “А/Б тестированию”! Меня зовут. Иван Еремеев  
Я работаю в VK руководителем направления продуктовой аналитики в рекомендательных системах :)  

Люблю Edtech, в свободное время преподаю в Geekbrains, VK образование и в ВШЭ различные курсы, связанные с аналитикой данных.

![Введение](/ABTesting/Pictures/001_001.PNG)

Что сегодня будет на уроке:
+ Подходы к формированию гипотез
+ Скоринг гипотез
+ Шаблон описания гипотез

![Введение](/ABTesting/Pictures/001_002.PNG)

A/B тесты одна из важнейших областей знаний для современного аналитика, без которой трудно представить себе его повседневную жизнь. 

Курс с одной стороны достаточно фундаментальный, чтобы сформировать прочную основу знаний с другой стороны максимально практик ориентированный. 

Мы начнем с основ и дойдем до продвинутых методов, которые используются в индустрии на практике. При успешном завершении курса вы сможете использовать эти знания в реальной работе.

Начнем мы с продуктовых гипотез и начала воронки. Перед тем как рассказывать про А/Б тесты - важно понять, что это лишь метод, который помогает принимать решения на основе данных и в него на вход должны поступать качественные гипотезы. 

Поэтому наш курс начинается с разговора про эту область.

Продуктовый мир полон неопределённости, и мы очень хотим её минимизировать, чтобы принимать хорошие решения, полезные для продукта.

В этом нам может помочь понимание подходов к получению гипотез, их скорингу и проверке. Давайте начнем с рабочего определения. Что же такое гипотеза в продуктовом мире?

## Понятие гипотезы

![Введение](/ABTesting/Pictures/001_003.PNG)

Гипотеза в цифровых продуктах — это чётко сформулированное предположение о каком-то вопросе, основанное на известных знаниях, которое необходимо проверить. 

В отличие от обычной идеи - гипотеза имеет структуру и предполагается, что ее можно проверить.

![Введение](/ABTesting/Pictures/001_004.PNG)

## Структура гипотезы
В основном вы будете сталкиваться с подходом, описанным ниже. Он применяется в большинстве команд, а особенно — в активно развивающихся продуктах.

__Действие [A] для пользователя [B] позволит увеличить метрику [C] на величину [D], потому что [E].__

Например, можно почитать [Design an effective hypothesis](https://help.optimizely.com/Ideate_and_Hypothesize/Design_an_effective_hypothesis) — там рассматривается сущность понятия гипотезы.

![Введение](/ABTesting/Pictures/001_007.PNG)

Давайте рассмотрим пример:

## Пример

Если на странице лендинга факультета веб-аналитики GeekBrains поднять блок «На курсе вы научитесь» на второй экран, то % показателя отказов снизится на 10% а СR% подачи заявки увеличится на 1%, потому что по результатам интервью, навыки, которым обучатся студенты, для них важнее, чем объяснение, кто такой веб-аналитик.

Очень важно понимать на какие метрики вы хотите повлиять, чтобы гипотеза была качественной и ее можно было количественно проверить и оценить эффект.

Перед тем, как генерировать гипотезы и проверять их, желательно задать себе несколько вопросов и описать стоящую(ие) проблему(ы):
+ Какую проблему я пытаюсь решить?
+ Каков масштаб проблемы, которую я рассматриваю?
+ Зачем вообще что-то менять?

![Введение](/ABTesting/Pictures/001_005.png)

## Подходы к поиску гипотез
Чтобы провести качественное A/B тестирование - необходимо подавать на вход хорошие качественные гипотезы. 

Может возникнуть вопрос а как же генерировать качественные гипотезы полезные для вашего продукта. 

![Введение](/ABTesting/Pictures/001_006.png)

Для поиска новых гипотез можно выделить 5 подходов (анализ количественных данных о продукте, качественные исследования, анализ рынка/конкурентов, психология, эвристика).

Эти подходы можно использовать как для поиска новых гипотез, так и для скоринга/валидации уже существующих.

Важно выбирать релевантный подход под конкретную задачу :)

## Анализ количественных данных о продукте
Помогает ответить на вопросы, что/где/когда/какой масштаб проблемы, отбросить лишние варианты.
+ Использование воронок, сравнение показателей в динамике.
+ Использование формул, декомпозиция метрик.
+ Сегментации юзеров
+ Корреляционный анализ.

Например, вы, проанализировав дашборды с ключевыми метриками, поняли, на каком участке воронки продукта есть проблема и насколько она большая. <br>
Дальше уже можно изучать проблему детальнее, раскладывать ключевые метрики на составляющие, генерировать гипотезы и пытаться ответить на вопрос, почему именно так.

## Качественные исследования

Когда нужно глубже ответить на вопрос «почему», получить новые инсайты и направления для ресёрча, используют качественные исследования.
+ Интервью.
+ Фокус-группы.
+ Юзабилити-тестирования.
+ Записи сессий и другие.

Например, если вы хотите получить детальные ответы на вопросы, глубже понять контекст, который стоит за цифрами, найти свежие идеи и направления для гипотез, эти методы будут очень полезны.

## Анализ рынка

Хотите получить свежие идеи или провести сложный анализ? Возможно, кто-то уже проделал эту работу до вас.

В тех секторах рынка, где действительно существует большой спрос со стороны потребителей на решение какой-либо проблемы и есть много денег, почти всегда существует конкуренция. 

Изучение решений конкурентов и трендов рынка — в целом отличный способ обогатить ваш список гипотез по продукту чем-то свежим и перспективным. 

Какие варианты можно использовать?
+ Бенчмаркинг.
+ Изучение готовых отчётов по рынку.
+ Изучение трендов/свежих идей.
+ Изучение продуктовых фич конкурентов.
+ Общение с экспертами индустрии.

## Психология и поведенческая экономика
Практически применимые и ценные области науки, кладезь полезных знаний для продуктов.

Понимание устройства человеческой психики, паттернов поведения и когнитивных искажений могут принести много денег вашему продукту и помогут избежать ошибок.

Многие продукты, в особенности в индустрии развлечений, очень любят использовать [ценные знания из психологии](https://vc.ru/marketing/154908-22-kognitivnyh-iskazheniya-i-kak-ih-ispolzovat-v-marketinge). Этим не пренебрегают и игроки рынка такси.

## Эвристические подходы
Использование опыта и здравого смысла, результатов предыдущих экспериментов. Использование этих подходов часто ускоряет процесс.

Например, вместе с коллегами основываясь на коллективном опыте, можно провести брейншторм и создать список хороших идей для решения широкого спектра проблем.

Давайте посмотрим на все эти подходы в одном примере.

Есть такси Ситимобил, где весь продукт поделен на несколько частей водительскую, пассажирскую и набор алгоритмов который их соединяет. Перед нами стоит задача удержания водителей. Часто стоимость привлечения водителя обходится дорого, и хочется, чтобы затраты на привлечение отбивались. 

Начинаем мы с анализа проблемы - действительно ли отваливаются водители? На какой поездке? В каком объеме?

После анализа данных, мы поняли, что есть определённая проблема, что водители после одной из поездок очень сильно и резко начинают увольняться. 

Первым мы используем качественные исследования, чтобы ответить на вопрос «Почему они отваливаются и на каком этапе»? Мы собрали водителей и провели с ними интервью, поговорили о проблемах водителей и о причинах их желания уйти. Собрав какие-то проблемы, нам важно было их отсортировать, поэтому мы количественным исследованиям. На основе интервью мы создали опросник и выслали внушительному количеству водителей. С помощью опросника нам удалось выявить самую популярную проблему, над которой и начали работать.

Далее мы проанализировали рынок других компаний, как они справляются с такой проблемой, а затем с помощью брейншторма сгенерировали ряд гипотез по улучшению ситуации.

Таким способом можно использовать все подходы, и в итоге они приведут к качественным гипотезам.

## Бэклог гипотез для команды

![Введение](/ABTesting/Pictures/001_008.png)

В процессе работы с гипотезами важно иметь единый __бэклог__ гипотез — документ(место), где вы будете их хранить, приоритизировать и записывать статусы работы по ним. 

Его можно вести в удобном для вашей команды инструменте, например в Confluence, Notion, Google sheets.

Зачем он нужен?
+ Командное формирование гипотез.
+ Единая база гипотез, экспериментов и результатов.
+ Обучение на ошибках.
+ Синхронизация.

## Способы скоринга гипотез

У любой компании, даже самой богатой и крупной, ресурсы ограничены, что уж говорить про стартапы.

Мы не можем найти временные, человеческие и денежные ресурсы на проверку всех гипотез сразу, приходится выбирать самые перспективные, которые могут сделать продукт значимо лучше оптимальными способами. 

Для этого многие команды используют фреймворки для оценки потенциала идей.

__Скоринг гипотез__ — процесс оценки ваших идей с использованием взвешенных факторов.

Суть такого подхода к приоритизации заключается в оценке каждой идеи из бэклога по одним и тем же параметрам, что позволит вам быть более объективным в выборе приоритетной гипотезы для тестирования.

Каждая команда выбирает свой метод оценки идей, ориентируясь на внутренние особенности и потребности.

Главное — использовать единый подход для всех задач.
Часто на практике используют фреймворк ICE, так как он концептуально простой и понятный широкому кругу людей. 

Есть несколько разновидностей метода. Подробнее можно почитать в прикреплённых статьях:

### Материалы:

+ [Обзорная статья.](https://cxl.com/blog/better-way-prioritize-ab-tests/)
+ [Неплохая статья по ICE.](https://skillsetter.io/blog/how-to-prioritize-hypothesis)
+ [ICE/RICE.](https://habr.com/ru/company/hygger/blog/422131/)
+ [Довольно подробно про уверенность в идее.](https://itamargilad.com/the-tool-that-will-help-you-choose-better-product-ideas/)
+ [Yet another article.](https://geekbrains.ru/posts/tasks_scoring)

![Введение](/ABTesting/Pictures/001_009.png)

![Введение](/ABTesting/Pictures/001_010.png)

## Шаблон дизайна эксперимента
Хотелось показать вам структуру, которая позволит не упустить важные нюансы при составлении гипотез.

Для чего нужен шаблон дизайна эксперимента?
1.	Это полноценный документ.
2.	Это исторические данные.
3.	Это хорошая практика, чтобы не замыкать на себе процессы, если вы решите сменить место работы.
4.	Это может помочь задать себе правильные вопросы перед запуском и избежать ненужных ошибок.

Недостатки, которые можно продумать за час планирования и проектирования, с легкостью компенсируются месяцем переработок по ночам :)

## Краткая версия шаблона с вопросами для самопроверки:
1.	Гипотеза (Какую проблему решаем? Какая сейчас ситуация? Зачем что-то менять?).
2.	Что делаем (Что будут видеть пользователи в каждой из групп?).
3.	На каких пользователях тестируем (Почему именно на этих группах пользователей?).
4.	Ключевые метрики для оценки эксперимента. (Основные метрики (что хотим улучшить).
Добавочные метрики (что хотим не уронить):
5.	Выводы (Какие результаты получили, какие выводы сделали, какие решения приняли).

## Пример
### Гипотеза
Если на странице лендинга факультета веб-аналитики GeekBrains поднять блок «На курсе вы научитесь» на второй экран, то % показателя отказов снизится на 10% а СR% подачи заявки увеличится на 1%, потому что по результатам интервью, навыки, которым обучатся студенты, для них важнее, чем объяснение, кто такой веб-аналитик.

### Что делаем

Контрольная версия: оставляем текущий вид страницы. Тестовая версия: передвигаем блок «На курсе вы научитесь» на первый экран под кнопку «Начать обучение».

На каких пользователях тестируем: только на новых пользователях.
Метрики: Процент конверсий в заявку (%CR) — primary. Процент показателя отказов — secondary.

### План действий

Если наш эксперимент будет положительным, и мы зафиксируем ожидаемое улучшение в в ключевых метриках и не посадим добавочные, то масштабируем изменение и «выкатываем» его на всех пользователей.

Если основные метрики падают или растут недостаточно либо добавочные метрики падают, откатываем эксперимент.

В процессе проведения эксперимента может   поджидать большое число нюансов. Важно понимать эти нюансы, а также способы минимизации негативного эффекта от них. 

## Чек-лист

Многих ошибок можно избежать, используя чек-лист и шаблон дизайна эксперимента.

![Введение](/ABTesting/Pictures/001_011.png)

![Введение](/ABTesting/Pictures/001_012.png)

## Итоги:

На этом уроке мы разобрали:
- Что такое продуктовые гипотезы и зачем они нужны.
- Рассмотрели структуру хорошей гипотезы.
- Увидели, какие подходы к поиску и генерации гипотез существуют.
- Узнали, зачем и как выбирать наиболее ценные для вашего продукта гипотезы.

В следующей лекции мы рассмотрим:

-	Какие виды экспериментов существуют
-	Как понять можно ли и нужно ли вам проводить А/Б-тест
-	Как выглядит процесс A/B тестирования

Дополнительные материалы
1.	[Структура гипотезы.](https://help.optimizely.com/Ideate_and_Hypothesize/Design_an_effective_hypothesis)
2.	[Как используют когнитивные искажения в бизнесе ](https://vc.ru/marketing/154908-22-kognitivnyh-iskazheniya-i-kak-ih-ispolzovat-v-marketinge)
3.	[Как Uber улучшает пользовательский опыт с помощью психологии.](https://rb.ru/story/how-uber-uses-psychology/)
4.	[Как построить непрерывный процесс growth hacking.](https://vc.ru/marketing/96436-growth-hacking-kak-postroit-nepreryvnyy-process-po-vzlamyvaniyu-rosta)
5.	[Обзорная статья по методам приоритизации.](https://cxl.com/blog/better-way-prioritize-ab-tests/)
6.	[Неплохая статья по ICE.](https://skillsetter.io/blog/how-to-prioritize-hypothesis)
7.	[ICE/RICE.](https://habr.com/ru/company/hygger/blog/422131/)
8.	[Довольно подробно про уверенность в идее.](https://itamargilad.com/the-tool-that-will-help-you-choose-better-product-ideas/)
9.	[Yet another article.](https://geekbrains.ru/posts/tasks_scoring)
10.	«Принцип пирамиды», Барбара Минто
11.	[Неплохой вводный туториал по A/B тестам](https://cxl.com/blog/ab-testing-guide/)
12.	[Ухудшающие эксперименты](https://gopractice.ru/ab-test/)
13.	[Интересная статья про то как Flo повысили долю успешных экспериментов](https://gopractice.ru/how_to_increase_the_number_of_successful_experiments/)
14.	[Статья для общего развития про проблему множественной проверки гипотез](https://habr.com/ru/company/yandex/blog/476826/)
15.	[Сравнение нескольких готовых инструментов для A/Б тестирования](https://insightwhale.com/google-optimize-vs-optimizely-comparing-a-b-testing-tools/)
16.	[Курс по Google Optimize](https://www.udemy.com/course/learn-google-optimize-course/)
17.	[Туториал по Google Optimize](https://www.udemy.com/course/learn-google-optimize-course/)
18.	[Статья мини-гайд по Google Optimize](https://blog.click.ru/growthhacking/google-optimize-kak-testirovat-ux-sajta-bez-programmist)
19.	[Google Optimize Beginner’s Guide](https://cxl.com/blog/google-optimize/)
20.	[Замечательная книга по A/B тестам Trustworthy Online Controlled Experiments: A Practical Guide to A/B Testing](https://www.cambridge.org/core/books/trustworthy-online-controlled-experiments/D97B26382EB0EB2DC2019A7A7B518F59)

# Работа на семинаре

Что такое метрика?

__Метрика__ – количественно измеряемые показатели, которые позволяют компаниям/командам/предприятиям определять и отслеживать успешность продукта или бизнес-деятельности. Используются для выявления проблем, отслеживания выполнения целей, и принятия обоснованных решений.

![Семинар](/ABTesting/Pictures/001_013.PNG)

## Какие метрики бывают?

__Дневная аудитория (DAU)__ – кол-во уникальных пользователей, которые зашли в приложение в течение суток (По аналогии WAU/MAU – в неделю/месяц).<br>
__Конверсия (conversion rate, CR)__ – отношение числа пользователей, которые выполнили какое-либо целевое действие.<br>
__Отток клиентов (Churn rate)__ – отношение кол-ва ушедших клиентов к активным клиентам.<br>
__Retention n-го дня__ – показывает сколько пользователей, пришедших в определенный день вернулось в продукт.<br>
__Стоимость привлечения клиента (CAC, cost per customer acquisition)__ – отношение расходов на привлечение к кол-ву пришедших пользователей.<br>
__Средний доход с привлеченного пользователя (ARPU, average revenue per user)__ – отношение полученного дохода к кол-ву пользователей.<br>
__Средний доход с привлеченного клиента (ARPPU, average revenue per paying user)__ -- отношение полученного дохода к кол-ву клиентов.<br>
__LTV (lifetime value) – пожизненная ценность клиента.__ Отражает то, сколько в среднем принесет пользователь денег в продукт до того, как покинет его.<br>
__NPS (net promoter score)__ – метрика уровня лояльности пользователей. <br>
__К-фактор__ – фактор виральности, показывает на сколько продукт нравится аудитории.

[14 главных digital-метрик и KPI для маркетолога](https://vc.ru/marketing/613862-14-glavnyh-digital-metrik-i-kpi-dlya-marketologa)

## Задание:

Какие 3-5 ключевых метрик для следующих продуктов вы бы выбрали и почему? 

1. Главной Mail.ru 
+ Кол-во пользователей в день
+ Кол-во активных пользователей в день
+ Ретеншн 1, 7 дней
+ Время проведенное на сайте на пользователя 
+ Длина скролла ленты на пользователя
2. Приложение Delivery club
+ конверсия в заказ
+ Доход с каждого партнера
+ кол-во “заходов” в магазин
+ доход от клиента за все время сотрудничества
+ BR (показатель отказов) - % пользователей, которые покинули сайт, просмотрев 1 страницу и не совершив целевых действий.
+ Abandonment Rate - доля упущенных обращений / звонков / брошенных корзин
+ процент заказов доставленных в срок
3. OKKO
+ конверсия в продление в подписку
+ доход от клиента за все время сотрудничества
+ кол-во просмотренных минут в день на пользователя
+ кол-во сообщений об ошибке 
+ кол-во просмотров до конца по жанрам на пользователя 
4. Vkontakte
+ Кол-во пользователей в день
+ Кол-во активных пользователей в день
+ конверсия в продление в подписку
+ кол-во сообщений об ошибке
+ активность на пользователя в мессенджере(сообщения в день, кол-во активных диалогов)
+ кол-во переходов в сторонние сервисы
5. Geekbrains
+ Средняя оценка по модулям
+ доходимость студента до конца курса
+ %трудоустройств 
+ кол-во привлеченных пользователей по рекламным программам 
+ кол-во проданных курсов в месяц
+ % студентов с более чем 1 купленным курсом

## Практическое задание

### Задание 1. 
Выберите любой  продукт. Например: 
+ ozon.ru 
+ citilink.ru 
+ telegram 

Какие бы ключевые метрики вы выделили? 

Опишите почему  вы выбрали именно их и можно ли их измерить   

### Задание 2. 
Сформулируйте 5-10 гипотез для выбранного продукта 

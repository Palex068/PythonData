# A/B-тестирование веб-приложений

На этом уроке 
1. Обзор Google Optimize
2. Создание аккаунта в Google Optimize
3. Настройка Google Optimize
4. Запуск первого эксперимента

Задача урока – научить использовать инструмент Google Optimize для запуска A/B-тестов.

## Содержание
+ [Краткое описание Google Optimize](#краткое-описание-google-optimize)
+ [Первые шаги (step by step)](#первые-шаги-step-by-step)
+ [Создание аккаунта в Google Optimize](#создание-аккаунта-в-google-optimize)
+ [Настройка Google Optimize](#настройка-google-optimize)
+ [Установка Google Optimize с помощью Google Tag Manager (GTM)](#установка-google-optimize-с-помощью-google-tag-manager-gtm)
+ [Запуск первого эксперимента](#запуск-первого-эксперимента)
+ [Домашняя работа](/ABTesting/003/HW03.md)

[Содержание курса](/ABTesting/README.MD)

## Краткое описание Google Optimize

![Google Optimize](/ABTesting/Pictures/002_010.png)

Не у всех команд есть своя самописная инфраструктура для сплитования и сбора данных - поэтому на рынке существуют различные готовые инструменты для проведения экспериментов.

Например [Optimize и Optimizely](https://insightwhale.com/google-optimize-vs-optimizely-comparing-a-b-testing-tools/)

Google Optimize – сервис для тестирования интерфейса сайта, который Google представила в 2016 году. 

Optimize дает возможность тестировать различные варианты интерфейса вашего сайта, чтобы в дальнейшем, на основе полученных данных, вы приняли правильное решение об изменении вашего продукта. 

В Google Optimize доступны следующие варианты тестирования интерфейса:

![Варианты тестирования](/ABTesting/Pictures/003_001.png)

1. __A/B/n-тесты__.<br>
С помощью Optimize вы можете создать одну или несколько альтернативных версий вашего сайта, и протестировать, какая из этих версий окажет лучшее влияние на метрики. 
2. Многовариантное тестирование <br>
В многовариантном тесте сравнивается эффективность не двух версии сайта, а конкретных элементов между собой. <br>
Может показаться, что это идеальный вариант для проведения тестирования, ведь мы можем тестировать сразу несколько элементов. <br>
Однако, давайте разберем, почему мультивариантные тесты могут нам не подойти: 
- Они требуют много трафика. <br>
Чем больше вариантов, тем больше нужно трафика для определения статистически значимого результата, соответственно, нужно и больше времени для проведения теста 
- Сложные для запуска. <br>
Сделать одно изменение элемента гораздо проще, чем сделать сразу несколько изменений. К тому же, чем больше изменений, тем легче совершить ошибку. 
- Эксперимент с переадресацией. <br>
При таком виде эксперимента, трафик распределяется на разные страницы. <br>
Например, если вы сделали 2 разных лендинга, то Optimize будет распределять трафик на разные страницы.
3. Персонализация. <br>
Вариант, в котором мы изменяем сайт под конкретный сегмент юзеров. В этом варианте есть только одна версия, которую мы не сравниваем с другими.
4. Шаблон баннера. <br>
Баннер добавили относительно недавно в функционал. Вы можете добавить баннер на свой сайт, чтобы предупредить клиентов о измененных часов работы или предупредить о чем-то другом.

Давайте  рассмотрим поподробнее плюсы и минусы инструмента:

В чем его плюсы:
+ Интеграция с экосистемой гугла (GA/GTM)
+ Почти No-code инструмент (можно немного сэкономить на разработчиках)

Нюансы:
+ Больше подходит для всяких UX тестов
+ Есть платная и бесплатная версии

![Сравнение](/ABTesting/Pictures/003_002.png)

(Сравнение платной и бесплатной версий)

Для более детального ознакомления с ним можно почитать статьи:
+ [Google Optimize Guide: Do A/B Testing for Free](https://cxl.com/blog/google-optimize/)
+ [Google Optimize: как тестировать UX сайта без программиста](https://blog.click.ru/growthhacking/google-optimize-kak-testirovat-ux-sajta-bez-programmista/)

и туториалы / курсы:
+ [Optimize video tutorials](https://support.google.com/optimize/answer/9340015?hl=en)
+ [Learn Google Optimize - Beginners - Free A/B Testing Tool](https://www.udemy.com/course/learn-google-optimize-course/)

[Содержание](#содержание)

<hr>

## Первые шаги (step by step)

1.	Откройте страницу https://optimize.google.com/
2.	Создайте аккаунт
3.	Нажмите ‘Начать’ (cтраница ‘Создайте проект оптимизации’)
4.	Укажите название и URL
5.	Выберите проект оптимизации, который хотите создать
6.	Создайте варианты сайта для тестирования
7.	Внесите изменения
8.	Настройте аудиторию
9.	Установите связь с Google Analytics
10.	Настройте цели
11.	Проверьте связь страницы с Google Optimize

[Содержание](#содержание)

<hr>

## Создание аккаунта в Google Optimize

![Google Optimize](/ABTesting/Pictures/003_003.png)

1. Перейдите на сайт Google Optimize, авторизуйтесь и нажмите “Создать аккаунт”. Здесь необходимо дать название вашему аккаунту. Затем выберите страну, информацию, которую вы соглашаетесь передавать, согласитесь с условиями и нажмите “Далее”

![Google Optimize](/ABTesting/Pictures/003_004.png)

2. Задайте название контейнера и нажмите “Создать” Название может быть любым, главное, чтобы оно было понятным для вас.

Вы создали аккаунт в Google Optimize. Теперь вы можете приступить к настройке и запуску тестирования. Для продолжения нажмите кнопку “Начать”

![Google Optimize](/ABTesting/Pictures/003_005.png)

3. Создайте проект оптимизации.

После того, как вы нажали “Начать” на прошлом шаге, вам будет предложено создать проект оптимизации. В открывшемся окне необходимо ввести название проекта и указать URL страницы, на которой вы собираетесь запускать оптимизацию, и выбрать вариант оптимизации. В нашем примере, мы будем запускать “Эксперимент А/Б”. После того, как вы введете все данные, нажимайте на кнопку “Создать”

![Google Optimize](/ABTesting/Pictures/003_006.png)

Итак, мы создали наш первый проект оптимизации.

Однако, мы еще не можем запустить тестирование. Для запуска А/Б-теста, нам необходимо произвести настройку.

![Google Optimize](/ABTesting/Pictures/003_007.png)

[Содержание](#содержание)

<hr>

## Настройка Google Optimize

1. Установка связи с Google Analytics Необходимо связать аккаунты Google Analytics и Optimize для того, чтобы в Optimize передавались данные метрик. Для установки связи, нам нужно нажать на кнопку “Установить связь с Google Аналитикой”.

В открывшемся окне выберите ресурс Google Аналитики и представление, которое вы хотите использовать и нажмите “Создать”.

![Google Optimize](/ABTesting/Pictures/003_008.png)

Поздравляю, вы связали Google Optimize с Analytics. Результат должен выглядеть похожим образом:

![Google Optimize](/ABTesting/Pictures/003_009.png)

![Google Optimize](/ABTesting/Pictures/003_010.png)

### Установка кода Оптимизации

После того, как вы связали Аналитику с Оптимизацией, вам необходимо добавить код Оптимизации на сайт.

Для этого нажмите на кнопку “Посмотреть инструкции” в блоке “Настройки”.

![Google Optimize](/ABTesting/Pictures/003_011.png)

В открывшемся окне нам нужно: - Установить расширение Optimize для Google Chrome (доступно по ссылке) - Установить фрагмент кода Оптимизации на сайт:

![Google Optimize](/ABTesting/Pictures/003_012.png)

Добавить код Оптимизации можно следующими способами: 
1. Добавить фрагмент приведенного кода на каждой странице в начале тега . 
2. Воспользоваться настройкой через Google Tag Manager (GTM)

[Содержание](#содержание)

<hr>

## Установка Google Optimize с помощью Google Tag Manager (GTM) 
1.	 Авторизуйтесь в GTM. Если вы еще не авторизованы, нажмите кнопку «Регистрация» и войдите, используя свой Gmail адрес или любой другой Google аккаунт 

2.	 Нажмите на кнопку “Создать аккаунт”

![Google Optimize](/ABTesting/Pictures/003_013.png)

3.	 Введите данные для вашего аккаунта и контейнера. Нажмите “Создать”

![Google Optimize](/ABTesting/Pictures/003_014.png)


4. На странице контейнера нажмите “Добавить новый тег”

![Google Optimize](/ABTesting/Pictures/003_015.png)

5. Если у вас не был добавлен тег Google Analytics, необходимо его добавить.

6. Нажмите на конфигурацию тега и выберите Google Optimize


![Google Optimize](/ABTesting/Pictures/003_016.png)

7. Добавьте данные об идентификаторе контейнера Google Оптимизации Идентификатор можно найти в настройках контейнера в Google Optimize

![Google Optimize](/ABTesting/Pictures/003_017.png)

8. Выберите триггер активации, задайте имя и нажмите “Сохранить”
9. Опубликуйте изменения в GTM 
10.	Вернитесь в Google Optimize на страницу эксперимента и нажмите “Проверить установку”

![Google Optimize](/ABTesting/Pictures/003_018.png)

Если все сделано правильно, то вы увидите данное сообщение

![Google Optimize](/ABTesting/Pictures/003_019.png)

Теперь мы готовы к тому, чтобы запустить наш первый А/Б-тест.

[Содержание](#содержание)

<hr>

## Запуск первого эксперимента 
Мы готовы запустить наш первый А/Б-тест. Предположим, что у нас есть сайт http://sportee.ru/. Главная страница которого выглядит следующим образом.

![Google Optimize](/ABTesting/Pictures/003_020.png)

Мы хотим поменять фразу на первом экране на “Занимайся из дома онлайн с тренером”. Тест мы хотим запустить на всех юзеров, и узнать, в каком варианте люди будут дольше задерживаться на сайте. Добавление версии эксперимента 
1.	 Нажмите на кнопку “Добавить вариант”

![Google Optimize](/ABTesting/Pictures/003_021.png)

2. В открывшемся окне введите название варианта и нажмите “Готово”

![Google Optimize](/ABTesting/Pictures/003_022.png)

Вы добавили новый вариант сайта в эксперимент. Для того, чтобы добавить еще один или несколько вариантов, нажмите “+ Добавить вариант”.

![Google Optimize](/ABTesting/Pictures/003_023.png)

3. Внесите изменение в “Вариант Б”. Нажмите на кнопку “Изменить” Нам открылся редактор сайта. С помощью Google Optimize вы можете:
    + Удалять элементы 
    + Изменять размер или расположение элемента 
    + Изменять текст на сайте, его шрифт, цвет и тд 
    + Редактировать HTML и JavaScript код

![Google Optimize](/ABTesting/Pictures/003_024.png)

4. Нам необходимо внести изменение в тексте. Нажмите на нужный блок (в нашем случае с текстом). Затем в окне редактора нажмите на кнопку “Изменить элемент”. Выберите нужные вариант для редактирования (в нашем случае – “Изменить текст)

![Google Optimize](/ABTesting/Pictures/003_025.png)

![Google Optimize](/ABTesting/Pictures/003_026.png)

5. Измените текст. После нажмите кнопку “Готово” и сохраните вашу версию эксперимента.

![Google Optimize](/ABTesting/Pictures/003_027.png)

Нажмите “Готово” для выхода из редактора. 

## Настройка аудитории для таргетинга эксперимента 
1. Изменение веса варианта. <br>
Если вы нажмете на кнопку “Вес”, то вы сможете изменить распределение трафика на каждый из вариантов. По дефолту, трафик распределяется равномерно между версиями. Однако, вы можете изменить доли трафика, если, допустим, считаете, что ваш эксперимент очень рисковый, чтобы отправлять версию Б на 50% аудитории.


![Google Optimize](/ABTesting/Pictures/003_028.png)

2. Таргетинг на страницы 
3. Выбор целевой аудитории
4. Распределение трафика 
5. Событие активации.


[Содержание](#содержание)

<hr>

[Содержание курса](/ABTesting/README.MD)